const { Sequelize } = require('sequelize');

class SequelizeContext {
    constructor() {
        this._connectionString = process.env.DATABASE_URL;

        this._sequelizeConnection = new Sequelize(this._connectionString, {
            dialectOptions: {
                ssl: !(process.env.DB_SSL_OPTION === 'false')
            },
            logging: log => console.log('Performing DB Operation')
        });

        this._dataTypes = Sequelize.DataTypes;
    }

    get sequelizeConnection() {
        return this._sequelizeConnection;
    }

    get sequelizeDataType() {
        return this._dataTypes;
    }
}

export default SequelizeContext;